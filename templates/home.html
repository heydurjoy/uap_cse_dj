{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="home-hero">
    <div class="hero-container">
        <div class="hero-content">
            <div class="hero-text">
                <div class="hero-welcome">Welcome to</div>
                <h1 class="hero-title">UAP-CSE</h1>
                <div class="hero-tagline">Committed to excellence...</div>
                <div class="hero-stats">
                    <!-- <span class="stats-prefix">We have</span> -->
                    <span class="stats-dynamic" id="dynamicStats">
                        {% if hero_tags.first %}
                            {{ hero_tags.first.title }}
                        {% else %}
                            Loading...
                        {% endif %}
                    </span>
                </div>
            </div>
            <div class="hero-visuals">
                <div class="polaroid-container">
                    {% for card in feature_cards %}
                    <a href="{% url 'designs:feature_card_detail' card.pk %}" class="polaroid-link">
    <div class="polaroid-frame polaroid-{{ forloop.counter }}">
                            <div class="polaroid-image">
                                {% if card.picture %}
                                    <img src="/media/{{ card.picture.name }}" alt="{{ card.title }}">
                                {% endif %}
                            </div>
                            <div class="polaroid-caption">{{ card.caption }}</div>
                        </div>
                    </a>
                    {% empty %}
                    <!-- Fallback if no feature cards -->
                    <div class="polaroid-frame polaroid-1">
                        <div class="polaroid-image"></div>
                        <div class="polaroid-caption">Student Life</div>
                    </div>
                    <div class="polaroid-frame polaroid-2">
                        <div class="polaroid-image"></div>
                        <div class="polaroid-caption">Innovation</div>
                    </div>
                    <div class="polaroid-frame polaroid-3">
                        <div class="polaroid-image"></div>
                        <div class="polaroid-caption">Community</div>
                    </div>
                    {% endfor %}
                </div>
                <div class="hero-greeting">
                    <!-- <br> -->
                    <!-- <span class="brief-text" id="briefText">Whats up?</span> -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- UAP Now Section -->
<section class="uapnow-section">
    <div class="container uapnow-container">
        <div class="uapnow-header">
            <div>
                <p class="eyebrow uapnow-anim">Whats up?</p><br>
                <h2 class="uapnow-anim uapnow-title">UAP CSE Now <span class="uapnow-star" aria-hidden="true">✦</span></h2>
                <p class="subtitle">Everything at a glance — notices, events, seminars, workshops.</p>
                <a href="{% url 'office:post_list' %}" class="view-all-link">View All Posts →</a>
            </div>
            <div class="uapnow-filters">
                <button class="uapnow-chip active" type="button">Notices</button>
                <button class="uapnow-chip" type="button">Events</button>
                <button class="uapnow-chip" type="button">Seminars</button>
                <button class="uapnow-chip" type="button">Workshops</button>
            </div>
        </div>
        <div class="uapnow-grid">
            {% if uap_now_posts %}
                {% for post_item in uap_now_posts %}
                {% if post_item.type == 'post' %}
                    {% with post=post_item.object %}
                    <div class="uapnow-card {% if post.is_pinned %}uapnow-pinned{% endif %}" onclick="openUapNowModal('post', {{ post.pk }})" style="cursor: pointer;">
                        <div class="uapnow-top">
                            <div class="uapnow-badge uapnow-badge-{{ post.post_type }}{% if post.is_pinned %} pinned{% endif %}">
                                {% if post.is_pinned %}
                                <span class="pin-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 17v5M9 10V6a3 3 0 0 1 3-3h0a3 3 0 0 1 3 3v4M5 10h14l-1 7H6l-1-7z"></path>
                                    </svg>
                                </span>
                                {% endif %}
                                {{ post.get_post_type_display }}
                            </div>
                            <div class="uapnow-date">{{ post.publish_date|date:"M d, Y" }}</div>
                        </div>
                        <h3>{{ post.short_title }}</h3>
                        <p>{{ post.long_title|truncatewords:15 }}</p>
                        {% if post.tags %}
                        <div class="uapnow-tags">
                            {% for tag in post.get_tags_list|slice:":3" %}
                            <span class="tag soft">{{ tag }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                    {% endwith %}
                {% else %}
                    {% with club_post=post_item.object %}
                    <div class="uapnow-card {% if club_post.is_pinned %}uapnow-pinned{% endif %}" onclick="openUapNowModal('club_post', {{ club_post.pk }})" style="cursor: pointer;">
                        <div class="uapnow-top">
                            <div class="uapnow-badge uapnow-badge-{{ club_post.post_type }}{% if club_post.is_pinned %} pinned{% endif %}">
                                {% if club_post.is_pinned %}
                                <span class="pin-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 17v5M9 10V6a3 3 0 0 1 3-3h0a3 3 0 0 1 3 3v4M5 10h14l-1 7H6l-1-7z"></path>
                                    </svg>
                                </span>
                                {% endif %}
                                {{ club_post.get_post_type_display }}
                            </div>
                            <div class="uapnow-date">{{ club_post.created_at|date:"M d, Y" }}</div>
                        </div>
                        {% if club_post.club.short_name %}
                        <div class="uapnow-club-badge">
                            <a href="{% url 'clubs:club_detail' club_post.club.pk %}" class="club-link" onclick="event.stopPropagation();">{{ club_post.club.short_name }}</a>
                        </div>
                        {% endif %}
                        <h3>{{ club_post.short_title }}</h3>
                        <p>{{ club_post.long_title|truncatewords:15 }}</p>
                        {% if club_post.tags %}
                        <div class="uapnow-tags">
                            {% for tag in club_post.get_tags_list|slice:":3" %}
                            <span class="tag soft">{{ tag }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                    </div>
                    {% endwith %}
                {% endif %}
                {% endfor %}
            {% else %}
                <!-- Fallback if no posts available -->
                <div class="uapnow-card">
                    <div class="uapnow-top">
                        <div class="uapnow-badge">Notice</div>
                        <div class="uapnow-date">No posts</div>
                    </div>
                    <h3>No posts available</h3>
                    <p>Check back later for updates.</p>
                </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Post Modal for UAP Now -->
<div id="uapNowModal" class="post-modal">
    <div class="post-modal-content" id="uapNowModalContent">
        <div class="post-modal-header">
            <h2 class="post-modal-title">Post Details</h2>
            <button class="post-modal-close" onclick="closeUapNowModal()" title="Close">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="post-modal-body">
            <div class="post-modal-meta">
                <span class="post-modal-badge" id="uapNowModalBadge">Event</span>
                <span class="post-modal-date" id="uapNowModalDate">Dec 11, 2025</span>
            </div>
            <h1 class="post-modal-full-title" id="uapNowModalFullTitle">Post Title</h1>
            <div class="post-modal-tags" id="uapNowModalTags"></div>
            <div class="post-modal-description" id="uapNowModalDescription"></div>
        </div>
    </div>
</div>

<!-- Easy Access Section -->
<section class="easy-access-section">
    <div class="container easy-access-container">
        <div class="easy-access-header">
            <p class="eyebrow">Quick Links</p>
            <h2>Easy Access</h2>
            <p class="subtitle">Quick access to important pages and resources.</p>
        </div>
        <div class="easy-access-grid">
            <a href="{% url 'designs:feature_cards_list' %}" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                        <path d="M2 17l10 5 10-5"></path>
                        <path d="M2 12l10 5 10-5"></path>
                    </svg>
                </div>
                <h3>Why CSE?</h3>
            </a>
            <a href="{% url 'academics:courses_list' %}" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 19.5A2.5 2.5 0 0 0 6.5 22h11a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 17.5 2h-11A2.5 2.5 0 0 0 4 4.5Z"></path>
                        <path d="M8 10h8"></path>
                        <path d="M8 14h6"></path>
                        <path d="M8 6h8"></path>
                    </svg>
                </div>
                <h3>Courses</h3>
            </a>
            <a href="{% url 'office:routine_list' %}" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                        <path d="M8 14h.01"></path>
                        <path d="M12 14h.01"></path>
                        <path d="M16 14h.01"></path>
                        <path d="M8 18h.01"></path>
                        <path d="M12 18h.01"></path>
                        <path d="M16 18h.01"></path>
                    </svg>
                </div>
                <h3>Routine</h3>
            </a>
            <a href="{% url 'people:faculty_list' %}" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                </div>
                <h3>Faculties</h3>
            </a>
            <a href="#" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 11H1l9-9 9 9h-8z"></path>
                        <path d="M9 11v10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V11"></path>
                    </svg>
                </div>
                <h3>Waivers</h3>
            </a>
            <a href="{% url 'clubs:activities' %}" class="easy-access-tile">
                <div class="tile-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 6v6l4 2"></path>
                    </svg>
                </div>
                <h3>Activities</h3>
            </a>
        </div>
    </div>
</section>

<!-- Head Message Section -->
<section class="hod-section">
    <div class="container hod-container">
        <div class="hod-card">
            <div class="hod-title-row">
                <div>
                    <p class="eyebrow">Message from</p>
                    <h2>Head of the Department</h2>
                </div>
                <div class="hod-pill">Inspiring Leadership</div>
            </div>
            <div class="hod-content">
                <div class="hod-profile">
                    <div class="hod-avatar">
                        {% if hod_card and hod_card.picture %}
                            <img src="/media/{{ hod_card.picture.name }}" alt="{{ hod_card.title }}" loading="lazy">
                        {% else %}
                            <img src="{% static 'images/hod.jpg' %}" alt="Head of Department" loading="lazy">
                        {% endif %}
                    </div>
                    <div class="hod-meta">
                        <h3>{% if hod_card %}{{ hod_card.title }}{% else %}Dr. Shah Murtaza Rashid Al Masud{% endif %}</h3>
                        <p>{% if hod_card %}{{ hod_card.caption }}{% else %}Head of the Department{% endif %}</p>
                    </div>
                </div>
                <div class="hod-message">
                    <div class="hod-quote-mark">“</div>
                    <p>
                        {% if hod_card %}
                            {{ hod_card.description|safe|truncatewords:60 }}
                        {% else %}
                            Welcome to the Department of Computer Science and Engineering (CSE) at University of Asia Pacific (UAP),
                            Bangladesh. Computer Science is an exciting, challenging and dynamic discipline which is now widely
                            recognized as an essential source of tools and techniques for advancements in nearly all spheres of life.
                        {% endif %}
                    </p>
                    {% if hod_card %}
                        <p class="hod-read-more">… <a href="{% url 'designs:feature_card_detail' hod_card.pk %}" aria-label="Read more from the Head of the Department">Read more</a></p>
                    {% else %}
                        <p class="hod-read-more">… <a href="#" aria-label="Read more from the Head of the Department">Read more</a></p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Mission Vision PEO Section -->
<section class="mvpeo-section">
    <div class="container mvpeo-container">
        <div class="mvpeo-header">
            <div>
                <p class="eyebrow">Who We Are</p>
                <h2>Vision, Mission & PEOs</h2>
                <p class="subtitle">A concise snapshot of what drives CSE, UAP — right below the hero.</p>
            </div>
            <div class="mvpeo-badges">
                <span class="badge soft"><span class="badge-label">Outcome Based Education</span></span>
                <span class="badge soft"><span class="badge-label">Reserach & Innovation</span></span>
                <span class="badge soft"><span class="badge-label">Sustainable Impact</span></span>
            </div>
        </div>

        <div class="mvpeo-grid vision-grid">
            <div class="mvpeo-title-row">
                <div class="pill neutral">Vision</div>
                <p class="section-hint">Our north star distilled into three focus areas.</p>
            </div>
            <div class="card-grid three">
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M2 12h20"></path>
                            <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                        </svg>
                    </div>
                    <h3>Global Graduates</h3>
                    <p>Prepare graduates as global leaders with quality education and research excellence.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 18h6"></path>
                            <path d="M10 22h4"></path>
                            <path d="M12 2C8 2 5 5 5 9c0 5 7 11 7 11s7-6 7-11c0-4-3-7-7-7Z"></path>
                            <circle cx="12" cy="9" r="2"></circle>
                        </svg>
                    </div>
                    <h3>Innovation & Growth</h3>
                    <p>Foster innovative ideas, extracurricular exploration, and continuous development.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M7 8h10"></path>
                            <path d="M7 12h10"></path>
                            <path d="M7 16h10"></path>
                            <path d="M3 8h1"></path>
                            <path d="M3 12h1"></path>
                            <path d="M3 16h1"></path>
                            <path d="M20 8h1"></path>
                            <path d="M20 12h1"></path>
                            <path d="M20 16h1"></path>
                            <rect x="4" y="4" width="16" height="16" rx="2"></rect>
                        </svg>
                    </div>
                    <h3>Industry Collaboration</h3>
                    <p>Bridge industry and academia to pioneer ICT leadership for Bangladesh and beyond.</p>
                </div>
            </div>
        </div>

        <div class="mvpeo-grid mission-grid">
            <div class="mvpeo-title-row">
                <div class="pill neutral">Mission</div>
                <p class="section-hint">Four missions — each a promise to our students and community.</p>
            </div>
            <div class="card-grid four">
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="m10 10 4-2-2 4-4 2 2-4Z"></path>
                        </svg>
                    </div>
                    <h3>Mission 1</h3>
                    <p>Equip students with strong CS theory, engineering principles, and practical skills for diverse careers and advanced studies.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 4h7"></path>
                            <path d="M9 20h7"></path>
                            <path d="M5 4 19 20"></path>
                            <path d="M19 4 5 20"></path>
                        </svg>
                    </div>
                    <h3>Mission 2</h3>
                    <p>Enable lifelong learning and professional growth by embracing technological advancements and cutting-edge research.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22V2"></path>
                            <path d="M5 9h14"></path>
                            <path d="M5 15h14"></path>
                        </svg>
                    </div>
                    <h3>Mission 3</h3>
                    <p>Cultivate an entrepreneurial mindset, foster innovation, and empower individuals to build sustainable solutions.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M7 7h10v5H7z"></path>
                            <path d="M5 11h14"></path>
                            <path d="M12 7v5"></path>
                            <path d="M5 16h14"></path>
                            <path d="M8 16v1"></path>
                            <path d="M16 16v1"></path>
                        </svg>
                    </div>
                    <h3>Mission 4</h3>
                    <p>Promote ethics, social responsibility, and community service, emphasizing responsible technology for society’s benefit.</p>
                </div>
            </div>
        </div>

        <div class="mvpeo-grid peo-grid">
            <div class="mvpeo-title-row">
                <div class="pill neutral">PEOs</div>
                <p class="section-hint">Program Educational Objectives that shape our graduates.</p>
            </div>
            <div class="card-grid four">
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <circle cx="12" cy="12" r="4"></circle>
                            <path d="m15 9-6 6"></path>
                        </svg>
                    </div>
                    <h3>PEO 1</h3>
                    <p>Pursue successful careers in software development, IT consulting, R&D, entrepreneurship, or advanced studies.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M10.325 4.317 9.257 2.9A1 1 0 0 0 8.45 2.5H5.5a1 1 0 0 0-1 1V5"></path>
                            <path d="M18.5 8V5a1 1 0 0 0-1-1h-3"></path>
                            <path d="m20.6 13.5-.9-.3"></path>
                            <path d="m3.4 13.5.9-.3"></path>
                            <path d="m6 20 1.5-3"></path>
                            <path d="m18 20-1.5-3"></path>
                            <path d="M12 12V9"></path>
                            <path d="M12 12 9.6 8"></path>
                            <path d="M12 12h3.4"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </div>
                    <h3>PEO 2</h3>
                    <p>Apply deep engineering knowledge and skills to solve complex, real-world problems.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 19.5A2.5 2.5 0 0 0 6.5 22h11a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 17.5 2h-11A2.5 2.5 0 0 0 4 4.5z"></path>
                            <path d="M8 10h8"></path>
                            <path d="M8 14h6"></path>
                            <path d="M8 6h8"></path>
                        </svg>
                    </div>
                    <h3>PEO 3</h3>
                    <p>Engage in lifelong learning and professional development by adapting to technological advancements.</p>
                </div>
                <div class="info-card">
                    <div class="card-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 21s-6-4.35-6-10a6 6 0 1 1 12 0c0 5.65-6 10-6 10Z"></path>
                            <circle cx="12" cy="11" r="2"></circle>
                        </svg>
                    </div>
                    <h3>PEO 4</h3>
                    <p>Contribute to society with engineering knowledge, skills, and ethical values.</p>
                </div>
            </div>
        </div>

        <div class="mvpeo-grid mapping-grid">
            <div class="mvpeo-title-row">
                <div class="pill outline">Mission ↔ PEO Mapping</div>
                <p class="section-hint">See how each mission underpins our PEOs.</p>
            </div>
            <div class="mapping-card">
                <div class="mapping-legend">
                    <span class="legend-dot primary"></span>Strong alignment
                    <span class="legend-dot soft"></span>Supportive alignment
                </div>
                <div class="mapping-table">
                    <div class="mapping-row mapping-head">
                        <div class="cell head">Mission / PEO</div>
                        <div class="cell head">PEO 1</div>
                        <div class="cell head">PEO 2</div>
                        <div class="cell head">PEO 3</div>
                        <div class="cell head">PEO 4</div>
                    </div>
                    <div class="mapping-row">
                        <div class="cell label">Mission 1</div>
                        <div class="cell mark strong">✓</div>
                        <div class="cell mark soft"></div>
                        <div class="cell mark soft"></div>
                        <div class="cell mark"></div>
                    </div>
                    <div class="mapping-row">
                        <div class="cell label">Mission 2</div>
                        <div class="cell mark"></div>
                        <div class="cell mark soft">✓</div>
                        <div class="cell mark strong">✓</div>
                        <div class="cell mark"></div>
                    </div>
                    <div class="mapping-row">
                        <div class="cell label">Mission 3</div>
                        <div class="cell mark soft"></div>
                        <div class="cell mark strong">✓</div>
                        <div class="cell mark"></div>
                        <div class="cell mark"></div>
                    </div>
                    <div class="mapping-row">
                        <div class="cell label">Mission 4</div>
                        <div class="cell mark"></div>
                        <div class="cell mark"></div>
                        <div class="cell mark soft"></div>
                        <div class="cell mark strong">✓</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Highlight Video Section -->
<section class="mvpeo-video-section">
    <div class="container mvpeo-video-container">
        <div class="mvpeo-video-header">
            <p class="eyebrow">See Us In Action</p>
            <h2>Experience CSE UAP</h2>
            <p class="subtitle">A quick glimpse into our campus, culture, and innovation.</p>
        </div>
        <div class="mvpeo-video-embed">
            <div class="embed-wrapper">
                <iframe width="560" height="315" src="https://www.youtube.com/embed/azdNa4-F6FQ?si=H5359DzjwLSwdmDf" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </div>
    </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const allCards = Array.from(document.querySelectorAll(".polaroid-link"));
  const visibleCount = 3;
  let index = 0;

  function getPositions() {
    const isMobile = window.innerWidth <= 768;
    return isMobile
      ? [
          { x: 20, y: 0, z: 3 },
          { x: 45, y: 25, z: 2 },
          { x: 70, y: 50, z: 1 },
        ]
      : [
          { x: 0, y: 0, z: 3 },
          { x: 45, y: 35, z: 2 },
          { x: 90, y: 70, z: 1 },
        ];
  }

  function showCards() {
    const positions = getPositions();

    // Hide all cards first
    allCards.forEach(card => {
      card.style.position = "absolute";
      card.style.transition = "transform 0.6s ease, opacity 0.6s ease";
      card.style.opacity = "0";
      card.style.pointerEvents = "none";
      card.style.zIndex = "0";
      card.style.transform = "translate(0,0)";
      const frame = card.querySelector(".polaroid-frame");
      frame.classList.remove("moving-forward", "moving-back");
    });

    // Show only visibleCount cards
    for (let i = 0; i < visibleCount; i++) {
      const card = allCards[(index + i) % allCards.length];
      const pos = positions[i];

      card.style.opacity = "1";
      card.style.pointerEvents = "auto";
      card.style.transform = `translate(${pos.x}px, ${pos.y}px)`;
      card.style.zIndex = pos.z;

      const frame = card.querySelector(".polaroid-frame");
      frame.classList.add(i === 0 ? "moving-forward" : "moving-back");
    }
  }

  // Initial load
  showCards();

  // Shuffle every 3 seconds
  setInterval(() => {
    index = (index + 1) % allCards.length;
    showCards();
  }, 3000);

  // Re-run on resize
  window.addEventListener("resize", showCards);
});
</script>


<style>
.mvpeo-section {
    padding: 3rem 0 2rem;
    background: linear-gradient(180deg,
        color-mix(in srgb, var(--color-primary) 10%, transparent) 0%,
        color-mix(in srgb, var(--color-primary) 6%, transparent) 35%,
        transparent 100%);
}

.mvpeo-container {
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
}

.mvpeo-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.eyebrow {
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 700;
    font-size: 0.8rem;
    color: var(--color-primary);
    margin-bottom: 0.35rem;
}

.mvpeo-header h2 {
    font-size: 2rem;
    margin-bottom: 0.35rem;
    color: var(--text-primary);
}

.subtitle {
    color: var(--text-secondary);
    margin: 0;
}

.mvpeo-badges {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.45rem 0.85rem;
    border-radius: 999px;
    font-weight: 700;
    font-size: 0.85rem;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--text-primary);
    position: relative;
    overflow: hidden;
    isolation: isolate;
}

.badge::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: conic-gradient(from 90deg,
        color-mix(in srgb, var(--color-primary) 85%, transparent),
        color-mix(in srgb, var(--color-primary-hover) 85%, transparent),
        color-mix(in srgb, var(--color-primary) 85%, transparent));
    animation: badge-spin 4s linear infinite;
    z-index: 0;
}

.badge::after {
    content: "";
    position: absolute;
    inset: 2px;
    border-radius: inherit;
    background: var(--bg-secondary);
    z-index: 1;
}

.badge-label {
    position: relative;
    z-index: 2;
}

@keyframes badge-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.mvpeo-grid {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.mvpeo-title-row {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
}

.pill {
    padding: 0.45rem 1rem;
    border-radius: 999px;
    font-weight: 800;
    letter-spacing: 0.02em;
    border: 1px solid transparent;
}

.pill.primary {
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
    color: white;
}

.pill.accent {
    background: linear-gradient(135deg, #5b8def, #4fd1c5);
    color: white;
}

.pill.neutral {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    border-color: var(--border-color);
}

.pill.outline {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
}

.section-hint {
    margin: 0;
    color: var(--text-secondary);
    font-size: 0.95rem;
}

.card-grid {
    display: grid;
    gap: 1rem;
}

.card-grid.three {
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

.card-grid.four {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

.info-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 18px;
    padding: 1.25rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.06), 0 0 24px var(--shadow);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
}

.info-card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.25), transparent 40%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.info-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 36px rgba(0,0,0,0.08), 0 0 32px var(--glow-shadow);
}

.info-card:hover::after {
    opacity: 1;
}

.card-icon {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    display: grid;
    place-items: center;
    background: var(--bg-tertiary);
    color: var(--text-primary);
    font-size: 1.1rem;
    margin-bottom: 0.75rem;
}

.info-card h3 {
    margin: 0 0 0.35rem;
    font-size: 1.05rem;
    color: var(--text-primary);
}

.info-card p {
    margin: 0;
    color: var(--text-secondary);
    font-size: 0.95rem;
}

.mapping-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 18px;
    padding: 1.25rem;
    box-shadow: 0 12px 28px rgba(0,0,0,0.06);
}

.mvpeo-video-section {
    padding: 1rem 0 3rem;
}

.mvpeo-video-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.mvpeo-video-header h3 {
    font-size: 1.5rem;
    margin: 0.1rem 0 0.35rem;
    color: var(--text-primary);
}

.mvpeo-video-embed .embed-wrapper {
    position: relative;
    width: 100%;
    padding-top: 56.25%;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 14px 32px rgba(0,0,0,0.08), 0 0 28px var(--shadow);
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
}

.mvpeo-video-embed iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

.hod-section {
    padding: 2.5rem 0 1.5rem;
    background: linear-gradient(180deg,
        color-mix(in srgb, var(--color-primary) 8%, transparent) 0%,
        transparent 100%);
}

.hod-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.hod-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 20px;
    padding: 1.75rem;
    box-shadow: 0 12px 30px rgba(0,0,0,0.07), 0 0 24px var(--shadow);
}

.hod-title-row {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 1.25rem;
}

.hod-title-row h2 {
    margin: 0.15rem 0 0;
    color: var(--text-primary);
}

.hod-pill {
    padding: 0.45rem 0.9rem;
    border-radius: 999px;
    background: color-mix(in srgb, var(--color-primary) 18%, transparent);
    color: var(--color-primary-dark);
    font-weight: 700;
    border: 1px solid var(--border-color);
}

.hod-content {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 1.25rem;
    align-items: center;
}

.hod-profile {
    display: flex;
    gap: 0.85rem;
    align-items: center;
}

.hod-avatar {
    width: 86px;
    height: 86px;
    border-radius: 16px;
    overflow: hidden;
    border: 2px solid color-mix(in srgb, var(--color-primary) 35%, transparent);
    box-shadow: 0 10px 22px rgba(0,0,0,0.08);
    background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
    display: grid;
    place-items: center;
}

.hod-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.hod-meta h3 {
    margin: 0;
    font-size: 1.05rem;
    color: var(--text-primary);
}

.hod-meta p {
    margin: 0.15rem 0 0;
    color: var(--text-secondary);
    font-weight: 600;
    letter-spacing: 0.02em;
}

.hod-message {
    position: relative;
    padding-left: 1.5rem;
    color: var(--text-primary);
    line-height: 1.6;
}

.hod-quote-mark {
    position: absolute;
    left: 0;
    top: -0.4rem;
    font-size: 2.5rem;
    color: color-mix(in srgb, var(--color-primary) 45%, transparent);
    font-weight: 800;
}

.hod-message p {
    margin: 0 0 0.5rem;
}

.hod-read-more a {
    color: var(--color-primary);
    font-weight: 700;
    text-decoration: none;
}

.hod-read-more a:hover {
    color: var(--color-primary-hover);
}

.uapnow-section {
    padding: 2.5rem 0 2rem;
    background: linear-gradient(180deg,
        color-mix(in srgb, var(--color-primary) 7%, transparent) 0%,
        color-mix(in srgb, var(--color-primary) 4%, transparent) 45%,
        transparent 100%);
    position: relative;
    overflow: hidden;
}

.uapnow-section::before,
.uapnow-section::after {
    content: "";
    position: absolute;
    width: 420px;
    height: 420px;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.28;
    animation: floatGlow 18s ease-in-out infinite;
    pointer-events: none;
}

.uapnow-section::before {
    top: -120px;
    left: -140px;
    background: radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--color-primary) 60%, transparent), transparent 70%);
}

.uapnow-section::after {
    bottom: -140px;
    right: -120px;
    background: radial-gradient(circle at 60% 60%, color-mix(in srgb, var(--color-primary-hover) 60%, transparent), transparent 70%);
    animation-delay: 6s;
}

.uapnow-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    position: relative;
    z-index: 1;
}

.uapnow-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
    flex-wrap: wrap;
}

.view-all-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    margin-top: 0.75rem;
    transition: all 0.3s ease;
}

.view-all-link:hover {
    color: var(--color-primary-hover);
    gap: 0.75rem;
}

.uapnow-filters {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.uapnow-chip {
    padding: 0.5rem 0.95rem;
    border-radius: 999px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-weight: 700;
    cursor: pointer;
    transition: all 0.25s ease;
    box-shadow: 0 6px 12px rgba(0,0,0,0.05);
    position: relative;
    overflow: hidden;
}

.uapnow-chip.active,
.uapnow-chip:hover {
    border-color: color-mix(in srgb, var(--color-primary) 35%, var(--border-color));
    box-shadow: 0 10px 18px rgba(0,0,0,0.08), 0 0 18px var(--shadow);
    transform: translateY(-2px);
    color: var(--text-primary);
}

.uapnow-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1rem;
}

.uapnow-card {
    background: var(--bg-secondary);
    border: 1px solid color-mix(in srgb, var(--border-color) 70%, var(--color-primary) 10%);
    border-radius: 16px;
    padding: 1.15rem;
    box-shadow: 0 14px 30px rgba(0,0,0,0.08), 0 0 24px var(--shadow);
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(6px);
}

.uapnow-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 18px 34px rgba(0,0,0,0.1), 0 0 26px var(--glow-shadow);
}

.uapnow-card::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: linear-gradient(135deg,
        color-mix(in srgb, var(--color-primary) 28%, transparent),
        transparent 35%,
        color-mix(in srgb, var(--color-primary-hover) 22%, transparent) 70%);
    opacity: 0.18;
    filter: blur(12px);
    z-index: 0;
}

.uapnow-card::after {
    content: "";
    position: absolute;
    top: -40%;
    left: -20%;
    width: 80%;
    height: 80%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.18), transparent 55%);
    transform: rotate(8deg);
    opacity: 0.5;
    animation: sheen 10s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
}

.uapnow-card > * {
    position: relative;
    z-index: 1;
}

.uapnow-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
}

.uapnow-badge {
    padding: 0.35rem 0.75rem;
    border-radius: 12px;
    font-weight: 800;
    font-size: 0.85rem;
    background: var(--bg-tertiary);
    color: var(--text-primary);
    border: 1px solid var(--border-color);
    box-shadow: 0 0 0 1px color-mix(in srgb, var(--color-primary) 25%, transparent),
                0 12px 24px rgba(0,0,0,0.08),
                0 0 18px color-mix(in srgb, var(--color-primary) 30%, transparent);
}

.uapnow-badge.notice { background: color-mix(in srgb, var(--color-primary) 14%, var(--bg-tertiary)); }
.uapnow-badge.events { background: color-mix(in srgb, var(--color-primary-hover) 14%, var(--bg-tertiary)); }
.uapnow-badge.seminars { background: color-mix(in srgb, var(--color-primary) 12%, var(--bg-secondary)); }
.uapnow-badge.workshop { background: color-mix(in srgb, var(--color-primary-dark) 12%, var(--bg-secondary)); }
.uapnow-badge.others { background: color-mix(in srgb, var(--color-primary) 10%, var(--bg-tertiary)); }

/* Pinned post styling */
.uapnow-card.uapnow-pinned {
    border-color: color-mix(in srgb, var(--color-primary) 40%, var(--border-color));
    box-shadow: 0 14px 30px rgba(0,0,0,0.1), 0 0 24px var(--shadow), 0 0 0 2px color-mix(in srgb, var(--color-primary) 20%, transparent);
}

.uapnow-badge.pinned {
    background: color-mix(in srgb, var(--color-primary) 20%, var(--bg-tertiary));
    border-color: color-mix(in srgb, var(--color-primary) 40%, var(--border-color));
}

.pin-icon {
    display: inline-flex;
    align-items: center;
    margin-right: 0.25rem;
    vertical-align: middle;
}

.pin-icon svg {
    width: 12px;
    height: 12px;
    stroke-width: 2.5;
}

.uapnow-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
}

.tag.soft {
    padding: 0.25rem 0.6rem;
    border-radius: 999px;
    background: color-mix(in srgb, var(--color-primary) 8%, var(--bg-secondary));
    color: var(--text-primary);
    border: 1px solid var(--border-color);
    font-size: 0.85rem;
    font-weight: 700;
}

.uapnow-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.uapnow-date {
    color: var(--text-secondary);
    font-weight: 600;
    font-size: 0.9rem;
}

.uapnow-card h3 {
    margin: 0.1rem 0;
    color: var(--text-primary);
}

.uapnow-card p {
    margin: 0;
    color: var(--text-secondary);
    line-height: 1.55;
}

.uapnow-link {
    margin-top: auto;
    color: var(--color-primary);
    font-weight: 700;
    text-decoration: none;
}

.uapnow-link:hover {
    color: var(--color-primary-hover);
}

/* Club Badge Styles */
.uapnow-club-badge {
    margin-bottom: 0.5rem;
}

.uapnow-club-badge .club-link {
    display: inline-block;
    padding: 0.25rem 0.6rem;
    background: color-mix(in srgb, var(--color-primary) 10%, var(--bg-tertiary));
    border: 1px solid color-mix(in srgb, var(--color-primary) 30%, var(--border-color));
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--color-primary);
    text-decoration: none;
    transition: all 0.3s ease;
}

.uapnow-club-badge .club-link:hover {
    background: color-mix(in srgb, var(--color-primary) 20%, var(--bg-tertiary));
    border-color: var(--color-primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px color-mix(in srgb, var(--color-primary) 20%, transparent);
}

.uapnow-anim {
    background: linear-gradient(120deg,
        color-mix(in srgb, var(--color-primary) 95%, transparent),
        color-mix(in srgb, var(--color-primary-hover) 95%, transparent),
        color-mix(in srgb, var(--color-primary-dark) 95%, transparent));
    background-size: 900% 250%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: uapnowShift 4.5s ease-in-out infinite;
    display: inline-block;
}

.uapnow-title {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 2.25rem;
    line-height: 1.15;
    margin: 0.2rem 0 0;
}

.uapnow-star {
    display: contents;
    color: var(--color-primary);
    font-size: 1.25em;
    font-weight: 900;
    opacity: 0.95;
    animation: starTwinkle 2.2s ease-in-out infinite,
               starFloat 3.5s ease-in-out infinite;
}

@keyframes starTwinkle {
    0% {
        opacity: 0.9;
        filter: drop-shadow(0 0 0px var(--color-primary));
        transform: scale(1);
    }
    50% {
        opacity: 1;
        filter: drop-shadow(0 0 4px var(--color-primary));
        transform: scale(1.08);
    }
    100% {
        opacity: 0.9;
        filter: drop-shadow(0 0 0px var(--color-primary));
        transform: scale(1);
    }
}

@keyframes starFloat {
    0% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-3px);
    }
    100% {
        transform: translateY(0);
    }
}


.uapnow-chip::before {
    content: "";
    position: absolute;
    inset: -120%;
    background: linear-gradient(120deg, transparent, color-mix(in srgb, var(--color-primary) 30%, transparent), transparent);
    transform: rotate(20deg);
    animation: sweep 5s linear infinite;
    opacity: 0.6;
}

@keyframes uapnowShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

@keyframes starTwinkle {
    0% { transform: translateY(0) translateX(0) scale(1); opacity: 0.55; }
    40% { transform: translateY(-3px) translateX(2px) scale(1.12); opacity: 1; }
    70% { transform: translateY(-1px) translateX(-2px) scale(1.05); opacity: 0.8; }
    100% { transform: translateY(0) translateX(0) scale(1); opacity: 0.6; }
}

@keyframes sweep {
    0% { transform: translateX(-50%) rotate(20deg); }
    100% { transform: translateX(120%) rotate(20deg); }
}

@keyframes floatGlow {
    0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.26; }
    50% { transform: translate(30px, -20px) scale(1.05); opacity: 0.34; }
}

@keyframes sheen {
    0% { transform: translate(-20%, -10%) rotate(8deg); opacity: 0.35; }
    50% { transform: translate(30%, 10%) rotate(12deg); opacity: 0.18; }
    100% { transform: translate(-20%, -10%) rotate(8deg); opacity: 0.35; }
}

/* Easy Access Section */
.easy-access-section {
    padding: 2.5rem 0;
    background: linear-gradient(180deg,
        color-mix(in srgb, var(--color-primary) 5%, transparent) 0%,
        transparent 100%);
}

.easy-access-container {
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.easy-access-header {
    text-align: center;
}

.easy-access-header h2 {
    font-size: 2rem;
    margin: 0.35rem 0;
    color: var(--text-primary);
}

.easy-access-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 1.25rem;
    max-width: 1200px;
    margin: 0 auto;
}

.easy-access-tile {
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    border-radius: 16px;
    padding: 1.5rem 1rem;
    text-decoration: none;
    color: inherit;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
    overflow: hidden;
    isolation: isolate;
}

.easy-access-tile {
    background: var(--bg-secondary);
    border: 2px solid var(--border-color);
    border-radius: 16px;
    padding: 1.5rem 1rem;
    text-decoration: none;
    color: inherit;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    position: relative;
    overflow: hidden;
    isolation: isolate;
}

/* Glowing animated outline */
.easy-access-tile::before {
    content: "";
    position: absolute;
    inset: -3px;
    border-radius: 18px;
    padding: 3px;
    background: linear-gradient(45deg, 
        var(--color-primary), 
        var(--color-primary-hover), 
        #00d4ff, 
        var(--color-primary-hover), 
        var(--color-primary));
    background-size: 400% 400%;
    -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
    mask-composite: exclude;
    opacity: 0;
    animation: glow-border 3s linear infinite;
    z-index: -1;
    transition: opacity 0.4s ease;
}

.easy-access-tile:hover::before {
    opacity: 1;
}

@keyframes glow-border {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.easy-access-tile::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 50% 0%, color-mix(in srgb, var(--color-primary) 12%, transparent), transparent 60%);
    opacity: 0;
    transition: opacity 0.4s ease;
    z-index: 0;
}

.easy-access-tile:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1), 0 0 32px color-mix(in srgb, var(--color-primary) 25%, transparent);
    border-color: color-mix(in srgb, var(--color-primary) 50%, var(--border-color));
}

.easy-access-tile:hover::after {
    opacity: 1;
}

.easy-access-tile > * {
    position: relative;
    z-index: 1;
}

.tile-icon {
    width: 48px;
    height: 48px;
    border-radius: 12px;
    background: linear-gradient(135deg, color-mix(in srgb, var(--color-primary) 18%, transparent), color-mix(in srgb, var(--color-primary-hover) 12%, transparent));
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.75rem;
    color: var(--color-primary);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.easy-access-tile:hover .tile-icon {
    transform: scale(1.15) rotate(5deg);
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
    color: white;
    box-shadow: 0 4px 12px color-mix(in srgb, var(--color-primary) 30%, transparent);
}

.easy-access-tile h3 {
    margin: 0;
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-primary);
    transition: color 0.3s ease;
}

.easy-access-tile:hover h3 {
    color: var(--color-primary);
}

@media (max-width: 900px) {
    .hod-content {
        grid-template-columns: 1fr;
    }
    .hod-profile {
        justify-content: flex-start;
    }
    .uapnow-header {
        flex-direction: column;
        align-items: flex-start;
    }
    .easy-access-section {
        padding: 2rem 0;
    }
    .easy-access-container {
        gap: 1.5rem;
    }
    .easy-access-header h2 {
        font-size: 1.75rem;
    }
    .easy-access-grid {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1rem;
    }
    
    .easy-access-tile {
        padding: 1.25rem 0.75rem;
    }
    
    .tile-icon {
        width: 42px;
        height: 42px;
        margin-bottom: 0.6rem;
    }
    
    .easy-access-tile h3 {
        font-size: 0.9rem;
    }
}

@media (max-width: 768px) {
    .easy-access-section {
        padding: 1.5rem 0;
    }
    .easy-access-container {
        gap: 1.25rem;
    }
    .easy-access-header h2 {
        font-size: 1.5rem;
    }
    .easy-access-header .subtitle {
        font-size: 0.9rem;
    }
    .easy-access-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.875rem;
        max-width: 100%;
    }
    
    .easy-access-tile {
        padding: 1rem 0.5rem;
        min-height: 100px;
    }
    
    .tile-icon {
        width: 40px;
        height: 40px;
        margin-bottom: 0.5rem;
    }
    
    .tile-icon svg {
        width: 18px;
        height: 18px;
    }
    
    .easy-access-tile h3 {
        font-size: 0.85rem;
        line-height: 1.3;
    }
}

@media (max-width: 480px) {
    .easy-access-section {
        padding: 1.25rem 0;
    }
    .easy-access-container {
        gap: 1rem;
    }
    .easy-access-header {
        padding: 0 0.5rem;
    }
    .easy-access-header h2 {
        font-size: 1.35rem;
    }
    .easy-access-header .eyebrow {
        font-size: 0.75rem;
    }
    .easy-access-header .subtitle {
        font-size: 0.85rem;
        padding: 0 0.5rem;
    }
    .easy-access-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
        padding: 0 0.5rem;
    }
    
    .easy-access-tile {
        padding: 0.875rem 0.4rem;
        min-height: 90px;
        border-radius: 12px;
    }
    
    .tile-icon {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        margin-bottom: 0.4rem;
    }
    
    .tile-icon svg {
        width: 16px;
        height: 16px;
    }
    
    .easy-access-tile h3 {
        font-size: 0.8rem;
        line-height: 1.2;
    }
}

@media (max-width: 767px) {
    .hod-card {
        padding: 1.35rem;
    }
    .hod-avatar {
        width: 74px;
        height: 74px;
    }
    .hod-title-row h2 {
        font-size: 1.4rem;
    }
}

.mapping-legend {
    display: flex;
    gap: 1rem;
    align-items: center;
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-bottom: 1rem;
    flex-wrap: wrap;
}

.legend-dot {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 999px;
    margin-right: 0.35rem;
}

.legend-dot.primary { background: var(--color-primary); }
.legend-dot.soft { background: var(--bg-tertiary); border: 1px solid var(--border-color); }

.mapping-table {
    display: grid;
    grid-template-columns: 1fr repeat(4, 110px);
    overflow: auto;
}

.mapping-row {
    display: contents;
}

.cell {
    padding: 0.85rem;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    text-align: center;
    font-size: 0.95rem;
    color: var(--text-primary);
}

.cell.head {
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-hover));
    color: white;
    font-weight: 700;
    letter-spacing: 0.02em;
}

.cell.label {
    text-align: left;
    font-weight: 700;
    color: var(--text-primary);
    background: var(--bg-secondary);
}

.cell.mark {
    color: var(--text-primary);
    font-weight: 800;
    background: var(--bg-secondary);
}

.cell.mark.strong {
    background: color-mix(in srgb, var(--color-primary) 15%, var(--bg-secondary));
    color: var(--color-primary);
}

.cell.mark.soft {
    background: color-mix(in srgb, var(--color-primary) 8%, var(--bg-secondary));
    color: var(--text-primary);
}

@media (max-width: 992px) {
    .mvpeo-header {
        flex-direction: column;
        align-items: flex-start;
    }
    .mapping-table {
        grid-template-columns: 1fr repeat(4, 90px);
    }
}

@media (max-width: 767px) {
    .mvpeo-section {
        padding: 2.25rem 0 1.5rem;
    }
    .mvpeo-header h2 {
        font-size: 1.65rem;
    }
    .card-grid.three,
    .card-grid.four {
        grid-template-columns: 1fr;
    }
    .mapping-table {
        grid-template-columns: 1fr repeat(4, 80px);
    }
    .uapnow-grid {
        grid-template-columns: 1fr;
    }
}

/* Post Modal Styles - Almost Full Page */
.post-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 10000;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.3s ease;
    overflow-y: auto;
}

.post-modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
}

.post-modal-content {
    background: var(--bg-primary);
    border-radius: 16px;
    width: 100%;
    max-width: 95vw;
    max-height: 95vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    animation: slideUp 0.3s ease;
    position: relative;
}

.post-modal-header {
    padding: 1.25rem 2rem;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: var(--bg-secondary);
    border-radius: 16px 16px 0 0;
    position: sticky;
    top: 0;
    z-index: 10;
}

.post-modal-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
}

.post-modal-close {
    background: var(--bg-tertiary);
    border: 2px solid var(--border-color);
    border-radius: 10px;
    padding: 0.5rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.post-modal-close:hover {
    border-color: var(--color-primary);
    color: var(--color-primary);
    transform: translateY(-2px);
}

.post-modal-body {
    padding: 2rem;
}

.post-modal-meta {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.post-modal-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.85rem;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
}

.post-modal-date {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.post-modal-full-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 1rem 0;
    line-height: 1.3;
}

.post-modal-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.post-modal-tags .tag {
    padding: 0.35rem 0.75rem;
    background: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.post-modal-description {
    color: var(--text-primary);
    line-height: 1.8;
    font-size: 1rem;
}

.post-modal-description img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 1rem 0;
}

@keyframes slideUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}
</style>

{% endblock %}

{% block extra_js %}
<script>
// Pass hero tags from Django to JavaScript
const heroTagsData = [
    {% for tag in hero_tags %}
    '{{ tag.title }}'{% if not forloop.last %},{% endif %}
    {% endfor %}
];

// UAP Now Post Modal Functionality
const uapNowPostsData = {
    {% for post_item in uap_now_posts %}
    {% if post_item.type == 'post' %}
    'post_{{ post_item.object.pk }}': {
        'type': 'post',
        'post_type': '{{ post_item.object.post_type }}',
        'post_type_display': '{{ post_item.object.get_post_type_display|escapejs }}',
        'short_title': '{{ post_item.object.short_title|escapejs }}',
        'long_title': '{{ post_item.object.long_title|escapejs }}',
        'description': `{{ post_item.object.description|safe }}`,
        'tags': '{{ post_item.object.tags|default:""|escapejs }}',
        'date': '{{ post_item.object.publish_date|date:"F d, Y" }}',
        'is_pinned': {{ post_item.object.is_pinned|yesno:"true,false" }},
        'club_name': null,
        'club_id': null
    }{% if not forloop.last %},{% endif %}
    {% else %}
    'club_post_{{ post_item.object.pk }}': {
        'type': 'club_post',
        'post_type': '{{ post_item.object.post_type }}',
        'post_type_display': '{{ post_item.object.get_post_type_display|escapejs }}',
        'short_title': '{{ post_item.object.short_title|escapejs }}',
        'long_title': '{{ post_item.object.long_title|escapejs }}',
        'description': `{{ post_item.object.description|safe }}`,
        'tags': '{{ post_item.object.tags|default:""|escapejs }}',
        'date': '{{ post_item.object.created_at|date:"F d, Y" }}',
        'is_pinned': {{ post_item.object.is_pinned|yesno:"true,false" }},
        'club_name': '{{ post_item.object.club.short_name|default:post_item.object.club.name|escapejs }}',
        'club_id': {{ post_item.object.club.pk }}
    }{% if not forloop.last %},{% endif %}
    {% endif %}
    {% endfor %}
};

function openUapNowModal(postType, postId) {
    const key = postType + '_' + postId;
    const post = uapNowPostsData[key];
    if (!post) {
        console.error('Post not found:', key);
        return;
    }
    
    const modal = document.getElementById('uapNowModal');
    
    // Set modal content
    document.getElementById('uapNowModalBadge').textContent = post.post_type_display;
    document.getElementById('uapNowModalBadge').className = 'post-modal-badge uapnow-badge-' + post.post_type + (post.is_pinned ? ' pinned' : '');
    document.getElementById('uapNowModalDate').textContent = post.date;
    
    // Title with club name if applicable
    let titleText = post.long_title;
    if (post.club_name) {
        titleText += ' <span style="font-size: 0.8em; color: var(--text-secondary);"> - ' + post.club_name + '</span>';
    }
    document.getElementById('uapNowModalFullTitle').innerHTML = titleText;
    
    // Tags
    const tagsContainer = document.getElementById('uapNowModalTags');
    tagsContainer.innerHTML = '';
    if (post.tags) {
        const tags = post.tags.split(',').map(t => t.trim()).filter(t => t);
        tags.forEach(tag => {
            const tagSpan = document.createElement('span');
            tagSpan.className = 'tag';
            tagSpan.textContent = tag;
            tagsContainer.appendChild(tagSpan);
        });
    }
    
    // Description
    document.getElementById('uapNowModalDescription').innerHTML = post.description;
    
    // Show modal
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeUapNowModal() {
    const modal = document.getElementById('uapNowModal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// Close modal on background click
document.addEventListener('click', function(e) {
    const modal = document.getElementById('uapNowModal');
    if (e.target === modal) {
        closeUapNowModal();
    }
});

// Close modal on Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const modal = document.getElementById('uapNowModal');
        if (modal.classList.contains('active')) {
            closeUapNowModal();
        }
    }
});
</script>
<script src="{% static 'js/hero-animations.js' %}"></script>
<script>
// Polaroid Card Rotation Animation
(function() {
    const polaroidCards = document.querySelectorAll('.polaroid-frame');
    
    if (polaroidCards.length >= 3) {
        // Add rotating class to all cards
        polaroidCards.forEach(card => {
            card.classList.add('rotating');
        });
        
        // Cycle through z-index to create stacking rotation effect
        let currentFront = 0;
        const totalCards = polaroidCards.length;
        let rotationInterval = null;
        let isPaused = false;
        
        function rotateStack() {
            if (isPaused) return;
            
            // Remove previous state classes
            polaroidCards.forEach(card => {
                card.classList.remove('moving-back', 'moving-forward');
            });
            
            // First, apply visual transitions (opacity, blur, scale)
            polaroidCards.forEach((card, index) => {
                const zIndex = (index - currentFront + totalCards) % totalCards;
                const newZIndex = totalCards - zIndex;
                
                // Add transition classes for smooth visual effect
                if (newZIndex === 1) {
                    // Card going to back - fade and blur
                    card.classList.add('moving-back');
                } else if (newZIndex === totalCards) {
                    // Card coming to front - brighten and focus
                    card.classList.add('moving-forward');
                }
            });
            
            // Then update z-index after a longer delay to allow smooth visual transition
            setTimeout(() => {
                polaroidCards.forEach((card, index) => {
                    const zIndex = (index - currentFront + totalCards) % totalCards;
                    const newZIndex = totalCards - zIndex;
                    card.style.zIndex = newZIndex.toString();
                    // Also update z-index on parent link if it exists
                    const link = card.closest('.polaroid-link');
                    if (link) {
                        link.style.zIndex = newZIndex.toString();
                    }
                });
                
                // Remove transition classes after z-index change to allow normal animation
                setTimeout(() => {
                    polaroidCards.forEach(card => {
                        card.classList.remove('moving-back', 'moving-forward');
                    });
                }, 500);
            }, 800);
            
            // Move to next card
            currentFront = (currentFront + 1) % totalCards;
        }
        
        function startRotation() {
            if (rotationInterval) clearInterval(rotationInterval);
            isPaused = false;
            rotateStack();
            rotationInterval = setInterval(rotateStack, 7000);
        }
        
        function stopRotation() {
            if (rotationInterval) {
                clearInterval(rotationInterval);
                rotationInterval = null;
            }
            isPaused = true;
        }
        
        // Start rotation
        startRotation();
        
        // Handle hover - bring card to front
        polaroidCards.forEach((card, index) => {
            card.addEventListener('mouseenter', function() {
                // Pause rotation
                stopRotation();
                // Pause all animations
                polaroidCards.forEach(c => {
                    c.style.animationPlayState = 'paused';
                });
                // Bring hovered card to front
                this.style.zIndex = '10';
                const link = this.closest('.polaroid-link');
                if (link) {
                    link.style.zIndex = '10';
                }
            });
            
            card.addEventListener('mouseleave', function() {
                // Remove transition classes
                polaroidCards.forEach(c => {
                    c.classList.remove('moving-back', 'moving-forward');
                });
                // Resume animations
                polaroidCards.forEach(c => {
                    c.style.animationPlayState = 'running';
                });
                // Resume rotation
                startRotation();
            });
        });
    }
})();
</script>
{% endblock %}
