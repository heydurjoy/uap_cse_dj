{% extends 'base.html' %}
{% load static %}

{% block title %}Credits - UAP CSE Website{% endblock %}

{% block content %}
<div class="credits-page">
    <!-- CELEBRATORY HERO -->
    <section class="credits-hero">
        <div class="rocket rocket-top-left">üöÄ</div>
        <div class="rocket rocket-bottom-right">üöÄ</div>
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="title-main">
                    <span>Built with</span>
                    <span class="glowing-heart" aria-label="heart">‚ù§Ô∏è</span>
                    <span>by UAPians</span>
                </span>
            </h1>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">0.00</span>
                    <span class="stat-label">cost</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">passion</span>
                </div>
            </div>
        </div>
    </section>

    <!-- CONCISE INTRO -->
    <section class="credits-intro">
        <div class="intro-card">
            <p class="intro-text">
                This website was born from <strong>CSE 301: Object-Oriented Programming II</strong>, 
                where students learned by building a real, live project. After multiple semesters of 
                exploration, the project was rebuilt from scratch with passion and commitment‚Äîno one 
                was asked or paid. This is what students and teachers can create together when driven 
                by ownership rather than obligation.
            </p>
        </div>
    </section>

    <!-- FINAL DEVELOPMENT & DEPLOYMENT -->
    {% if final_contributors %}
    <section class="credits-section">
        <div class="section-header">
            <h2 class="section-title">
                <span class="title-icon">üöÄ</span>
                Final Development & Deployment
            </h2>
            <p class="section-description">The team that brought it all together</p>
        </div>
        <div class="credits-grid final-grid">
            {% for contributor in final_contributors %}
            <div class="contributor-card final-card final-card-{{ forloop.counter }}">
                {% if forloop.counter == 1 %}
                <!-- First card: image on left -->
                <div class="card-image-wrapper final-image-left">
                    {% if contributor.photo %}
                    <img src="{{ contributor.photo.url }}" alt="{{ contributor.name }}" class="card-image">
                    {% else %}
                    <div class="card-image-placeholder">
                        <span class="placeholder-icon">üë§</span>
                    </div>
                    {% endif %}
                    <div class="card-badge">‚≠ê</div>
                </div>
                <div class="card-content final-content-right">
                    <h3 class="card-name">{{ contributor.name }}</h3>
                    <p class="card-role">{{ contributor.role|truncatewords:12 }}</p>
                    {% if contributor.student_id %}
                    <span class="card-id">{{ contributor.student_id }}</span>
                    {% endif %}
                    {% if contributor.lines_added or contributor.lines_deleted or contributor.number_of_commits %}
                    <div class="card-stats">
                        {% if contributor.number_of_commits %}
                        <span class="stat-badge">üíæ {{ contributor.number_of_commits }} commits</span>
                        {% endif %}
                        {% if contributor.lines_added %}
                        <span class="stat-badge">‚ûï {{ contributor.lines_added|floatformat:0 }} lines added</span>
                        {% endif %}
                        {% if contributor.lines_deleted %}
                        <span class="stat-badge">‚ûñ {{ contributor.lines_deleted|floatformat:0 }} lines deleted</span>
                        {% endif %}
                    </div>
                    {% endif %}
                    <div class="card-links">
                        {% if contributor.portfolio_link %}
                        <a href="{{ contributor.portfolio_link }}" target="_blank" class="card-link">
                            <span class="link-icon">üåê</span> Portfolio
                        </a>
                        {% endif %}
                        {% if contributor.github_username %}
                        <a href="https://github.com/{{ contributor.github_username }}" target="_blank" class="card-link">
                            <span class="link-icon">üíª</span> GitHub
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% else %}
                <!-- Second card: image on right -->
                <div class="card-content final-content-left">
                    <h3 class="card-name">{{ contributor.name }}</h3>
                    <p class="card-role">{{ contributor.role|truncatewords:12 }}</p>
                    {% if contributor.student_id %}
                    <span class="card-id">{{ contributor.student_id }}</span>
                    {% endif %}
                    {% if contributor.lines_added or contributor.lines_deleted or contributor.number_of_commits %}
                    <div class="card-stats">
                        {% if contributor.number_of_commits %}
                        <span class="stat-badge">üíæ {{ contributor.number_of_commits }} commits</span>
                        {% endif %}
                        {% if contributor.lines_added %}
                        <span class="stat-badge">‚ûï {{ contributor.lines_added|floatformat:0 }} lines added</span>
                        {% endif %}
                        {% if contributor.lines_deleted %}
                        <span class="stat-badge">‚ûñ {{ contributor.lines_deleted|floatformat:0 }} lines deleted</span>
                        {% endif %}
                    </div>
                    {% endif %}
                    <div class="card-links">
                        {% if contributor.portfolio_link %}
                        <a href="{{ contributor.portfolio_link }}" target="_blank" class="card-link">
                            <span class="link-icon">üåê</span> Portfolio
                        </a>
                        {% endif %}
                        {% if contributor.github_username %}
                        <a href="https://github.com/{{ contributor.github_username }}" target="_blank" class="card-link">
                            <span class="link-icon">üíª</span> GitHub
                        </a>
                        {% endif %}
                    </div>
                </div>
                <div class="card-image-wrapper final-image-right">
                    {% if contributor.photo %}
                    <img src="{{ contributor.photo.url }}" alt="{{ contributor.name }}" class="card-image">
                    {% else %}
                    <div class="card-image-placeholder">
                        <span class="placeholder-icon">üë§</span>
                    </div>
                    {% endif %}
                    <div class="card-badge">‚≠ê</div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- COURSE-BASED DEVELOPMENT -->
    {% if course_contributors %}
    <section class="credits-section">
        <div class="section-header">
            <h2 class="section-title">
                <span class="title-icon">üéì</span>
                Course-Based Development
            </h2>
            <p class="section-description">Students who explored, experimented, and learned</p>
        </div>
        <div class="credits-grid course-grid">
            {% for contributor in course_contributors %}
            <div class="course-card-wrapper">
                <div class="course-card">
                    <div class="course-card-image">
                        {% if contributor.photo %}
                        <img src="{{ contributor.photo.url }}" alt="{{ contributor.name }}">
                        {% else %}
                        <div class="course-card-placeholder">
                            <span class="placeholder-icon">üë§</span>
                        </div>
                        {% endif %}
                        <div class="course-card-overlay">
                            <div class="course-card-info">
                                <h3 class="course-name">{{ contributor.name }}</h3>
                                <div class="course-meta">
                                    {% if contributor.lines_added %}
                                    <span class="course-stat">++ {{ contributor.lines_added|floatformat:0 }}</span>
                                    {% endif %}
                                    {% if contributor.lines_deleted %}
                                    <span class="course-stat">-- {{ contributor.lines_deleted|floatformat:0 }}</span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Hover details bubble -->
                <div class="course-details-bubble">
                        <div class="bubble-content">
                            <h4 class="bubble-name">{{ contributor.name }}</h4>
                            {% if contributor.student_id %}
                            <p class="bubble-id">ID: {{ contributor.student_id }}</p>
                            {% endif %}
                            <p class="bubble-role">{{ contributor.role }}</p>
                            {% if contributor.reflection %}
                            <p class="bubble-reflection">"{{ contributor.reflection }}"</p>
                            {% endif %}
                            {% if contributor.lines_added or contributor.lines_deleted or contributor.number_of_commits %}
                            <div class="bubble-stats">
                                {% if contributor.number_of_commits %}
                                <span class="bubble-stat">üíæ {{ contributor.number_of_commits }} commits</span>
                                {% endif %}
                                {% if contributor.lines_added %}
                                <span class="bubble-stat">++ {{ contributor.lines_added|floatformat:0 }} lines added</span>
                                {% endif %}
                                {% if contributor.lines_deleted %}
                                <span class="bubble-stat">-- {{ contributor.lines_deleted|floatformat:0 }} lines deleted</span>
                                {% endif %}
                            </div>
                            {% endif %}
                            <div class="bubble-links">
                                {% if contributor.portfolio_link %}
                                <a href="{{ contributor.portfolio_link }}" target="_blank" class="bubble-link">
                                    <span class="link-icon">üåê</span> Portfolio
                                </a>
                                {% endif %}
                                {% if contributor.github_username %}
                                <a href="https://github.com/{{ contributor.github_username }}" target="_blank" class="bubble-link">
                                    <span class="link-icon">üíª</span> GitHub
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    <div class="bubble-tail"></div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- CLOSING MESSAGE -->
    <section class="credits-closing">
        <div class="closing-card">
            <p class="closing-text">
                <span class="closing-icon">üíù</span>
                This project stands as a reflection of what students and teachers can create together 
                when driven by ownership rather than obligation.
            </p>
        </div>
    </section>
</div>
{% endblock %}

{% block extra_css %}
<style>
/* =========================
   PAGE CONTAINER
   ========================= */
.credits-page {
    min-height: 100vh;
    padding: 2rem 1rem;
}

/* =========================
   CELEBRATORY HERO
   ========================= */
.credits-hero {
    position: relative;
    text-align: center;
    padding: 4rem 2rem;
    margin-bottom: 3rem;
    overflow: visible;
    max-width: 100%;
    min-height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.hero-content {
    position: relative;
    z-index: 2;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
}

.hero-title {
    display: block;
    margin: 0 auto 3rem;
    width: 100%;
    text-align: center;
}

.title-main {
    font-size: clamp(2.5rem, 5vw, 4rem);
    font-weight: 700;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
    text-align: center;
    margin: 0 auto;
    line-height: 1.2;
}

.title-main > span:not(.glowing-heart) {
    font-size: inherit;
    font-weight: inherit;
    color: #1976d2;
    display: inline-block;
}

.title-main .glowing-heart {
    font-size: clamp(2rem, 4vw, 3.5rem);
    color: #e91e63 !important;
    -webkit-text-fill-color: #e91e63 !important;
}

.glowing-heart {
    display: inline-block !important;
    font-size: clamp(2rem, 4vw, 3.5rem);
    animation: heart-glow 2s ease-in-out infinite;
    filter: drop-shadow(0 0 8px rgba(255, 20, 147, 0.6))
            drop-shadow(0 0 15px rgba(255, 20, 147, 0.4))
            drop-shadow(0 0 25px rgba(255, 20, 147, 0.2));
    transform-origin: center;
    color: #e91e63 !important;
    padding: 0 0.5rem;
    margin: 0 0.5rem;
    position: relative;
    visibility: visible !important;
    opacity: 1 !important;
    -webkit-text-fill-color: #e91e63 !important;
}

@keyframes heart-glow {
    0%, 100% {
        transform: scale(1);
        filter: drop-shadow(0 0 8px rgba(255, 20, 147, 0.6))
                drop-shadow(0 0 15px rgba(255, 20, 147, 0.4))
                drop-shadow(0 0 25px rgba(255, 20, 147, 0.2));
    }
    50% {
        transform: scale(1.1);
        filter: drop-shadow(0 0 12px rgba(255, 20, 147, 0.8))
                drop-shadow(0 0 20px rgba(255, 20, 147, 0.5))
                drop-shadow(0 0 30px rgba(255, 20, 147, 0.3));
    }
}

@keyframes gradient-shift {
    0%, 100% { filter: hue-rotate(0deg); }
    50% { filter: hue-rotate(20deg); }
}

/* =========================
   DECORATIVE ROCKETS
   ========================= */
.rocket {
    position: absolute;
    font-size: 3rem;
    opacity: 0.25;
    z-index: 1;
    pointer-events: none;
    filter: blur(0.5px);
}

.rocket-top-left {
    top: 2rem;
    left: 2rem;
    transform: rotate(-45deg);
    animation: float-rocket-left 4s ease-in-out infinite;
}

.rocket-bottom-right {
    bottom: 2rem;
    right: 2rem;
    transform: rotate(135deg);
    animation: float-rocket-right 4s ease-in-out infinite;
    animation-delay: 2s;
}

@keyframes float-rocket-left {
    0%, 100% {
        transform: translateY(0) rotate(-45deg);
    }
    50% {
        transform: translateY(-10px) rotate(-45deg);
    }
}

@keyframes float-rocket-right {
    0%, 100% {
        transform: translateY(0) rotate(135deg);
    }
    50% {
        transform: translateY(-10px) rotate(135deg);
    }
}


.hero-stats {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 4rem;
    flex-wrap: wrap;
    margin: 2rem auto 0;
    padding-top: 0;
    border-top: none;
    width: 100%;
    text-align: center;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    text-align: center;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 700;
    color: #1976d2;
    line-height: 1;
    display: block;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.stat-label {
    font-size: 0.9rem;
    color: #1565c0;
    text-transform: lowercase;
    letter-spacing: 0.5px;
    margin-top: 0.25rem;
    font-weight: 500;
}

/* Confetti Animation */
.confetti-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.confetti-container::before,
.confetti-container::after {
    content: 'üéâ';
    position: absolute;
    font-size: 2rem;
    animation: confetti-fall 3s ease-in-out infinite;
    opacity: 0.3;
}

.confetti-container::before {
    left: 20%;
    animation-delay: 0s;
}

.confetti-container::after {
    right: 20%;
    animation-delay: 1.5s;
}

@keyframes confetti-fall {
    0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
    }
    50% {
        opacity: 0.3;
    }
    100% {
        transform: translateY(400px) rotate(360deg);
        opacity: 0;
    }
}

/* =========================
   INTRO CARD
   ========================= */
.credits-intro {
    max-width: 900px;
    margin: 0 auto 4rem;
}

.intro-card {
    background: var(--bg-secondary);
    padding: 2rem;
    border-radius: 20px;
    border: 2px solid rgba(var(--color-primary-rgb, 255, 255, 255), 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.intro-text {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text-primary);
    margin: 0;
    text-align: center;
}

.intro-text strong {
    color: var(--color-primary);
}

/* =========================
   SECTIONS
   ========================= */
.credits-section {
    max-width: 1400px;
    margin: 0 auto 5rem;
    padding: 0 1rem;
    overflow: visible;
}

.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-title {
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.title-icon {
    font-size: 2rem;
    animation: bounce 2s ease infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.section-description {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin: 0;
}

/* =========================
   GRID
   ========================= */
.credits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.final-grid {
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 2rem;
    flex-wrap: wrap;
    max-width: 1400px;
    margin: 3rem auto 0;
    padding: 0 1rem;
}

.final-card {
    flex: 1 1 500px;
    min-width: 400px;
    max-width: 600px;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    position: relative;
    animation: card-enter 0.8s ease-out backwards;
}

.final-card-1 {
    animation-delay: 0.2s;
}

.final-card-2 {
    animation-delay: 0.4s;
}

@keyframes card-enter {
    0% {
        opacity: 0;
        transform: translateY(30px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Image positioning */
.final-image-left {
    order: 1;
    width: 200px;
    min-width: 200px;
    border-radius: 20px 0 0 20px;
}

.final-image-right {
    order: 2;
    width: 200px;
    min-width: 200px;
    border-radius: 0 20px 20px 0;
}

.final-content-left {
    order: 1;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.final-content-right {
    order: 2;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.final-card .card-image-wrapper {
    aspect-ratio: 1;
    height: auto;
    border-radius: inherit;
}

.final-card:hover {
    transform: translateY(-5px);
    transition: all 0.3s ease;
}

.course-grid {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1.5rem;
    overflow: visible;
}

.course-grid:hover .course-card-wrapper:not(:hover) {
    transform: scale(0.95);
    opacity: 0.7;
    filter: blur(1px);
    transition: all 0.3s ease;
}

/* =========================
   COURSE CARDS (Faculty-style)
   ========================= */
.course-card-wrapper {
    position: relative;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform-origin: center bottom;
    transform-style: preserve-3d;
    will-change: transform;
    overflow: visible !important;
    perspective: 1200px;
    perspective-origin: 50% 100%;
}

.course-card {
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 0;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    height: 100%;
    min-height: 280px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    transform-style: preserve-3d;
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
}

.course-card-wrapper {
    overflow: visible !important;
}

.course-card-wrapper:hover {
    transform: scale(1.08) translateY(-8px) rotateX(12deg) rotateY(0deg) rotateZ(0deg);
    z-index: 100;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.course-card-wrapper:hover .course-card {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
    border-color: #1976d2;
    border-width: 2px;
}

.course-card-image {
    width: 100%;
    height: 100%;
    min-height: 280px;
    position: relative;
    overflow: hidden;
    border-radius: 16px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.course-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.course-card-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(25, 118, 210, 0.1), rgba(25, 118, 210, 0.05));
}

.course-card-placeholder .placeholder-icon {
    font-size: 4rem;
    opacity: 0.3;
}

.course-card-wrapper:hover .course-card-image img {
    transform: scale(1.05);
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.course-card-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.7) 50%, rgba(0, 0, 0, 0) 100%);
    padding: 1.25rem 1rem 1rem 1rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.course-card-wrapper:hover .course-card-overlay {
    padding: 1.5rem 1.25rem 1.25rem 1.25rem;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.75) 50%, rgba(0, 0, 0, 0) 100%);
}

.course-card-info {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    position: relative;
}

.course-name {
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0;
    color: white;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    line-height: 1.2;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.course-card-wrapper:hover .course-name {
    font-size: 1.2rem;
}

.course-meta {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
    margin: 0.5rem 0 0 0;
}

.course-stat {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.95);
    margin: 0;
    font-weight: 600;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    line-height: 1.2;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    padding: 0.25rem 0.5rem;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 6px;
    display: inline-block;
}

.course-card-wrapper:hover .course-stat {
    font-size: 0.9rem;
}

/* Details bubble on hover - positioned to left or right based on card position */
.course-details-bubble {
    position: absolute;
    top: 50%;
    left: calc(100% + 15px);
    transform: translateY(-50%) translateX(-10px);
    transform-origin: left center;
    opacity: 0;
    pointer-events: none;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 1000;
    min-width: 300px;
    max-width: 380px;
    filter: drop-shadow(0 8px 24px rgba(0, 0, 0, 0.35));
    visibility: hidden;
}

/* Cards on the right side - show bubble on left */
.course-card-wrapper.bubble-left .course-details-bubble {
    left: auto;
    right: calc(100% + 15px);
    transform: translateY(-50%) translateX(10px);
    transform-origin: right center;
}

.course-card-wrapper.bubble-left:hover .course-details-bubble {
    transform: translateY(-50%) translateX(0);
}

.course-card-wrapper.bubble-left .bubble-tail {
    left: auto;
    right: -8px;
    top: 50%;
    transform: translateY(-50%) rotate(90deg);
    border-left: 10px solid rgba(255, 255, 255, 0.7);
    border-right: none;
    border-bottom: 10px solid transparent;
    border-top: 10px solid transparent;
}

.course-card-wrapper:hover .course-details-bubble {
    opacity: 1;
    visibility: visible;
    transform: translateY(-50%) translateX(0);
    pointer-events: auto;
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    z-index: 1001;
}

.bubble-content {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(40px) saturate(180%) brightness(1.2);
    -webkit-backdrop-filter: blur(40px) saturate(180%) brightness(1.2);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-radius: 20px;
    padding: 1.5rem 1.75rem;
    position: relative;
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.2),
        0 0 0 1px rgba(255, 255, 255, 0.3) inset,
        inset 0 1px 2px rgba(255, 255, 255, 0.9),
        inset 0 -1px 2px rgba(0, 0, 0, 0.05);
    /* Enhanced liquid glass effect */
    background-image: 
        linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.05) 50%, rgba(255, 255, 255, 0.1) 100%),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.3) 0%, transparent 50%);
    /* Subtle gradient overlay for depth */
    position: relative;
}

.bubble-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 20px;
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.1) 0%, 
        transparent 50%, 
        rgba(255, 255, 255, 0.05) 100%);
    pointer-events: none;
}

.bubble-name {
    font-size: 1.2rem;
    font-weight: 700;
    color: #1976d2;
    margin: 0 0 0.5rem 0;
}

.bubble-id {
    font-size: 0.85rem;
    color: #666;
    margin: 0 0 0.75rem 0;
    font-weight: 500;
}

.bubble-role {
    font-size: 0.95rem;
    color: #333;
    margin: 0 0 0.75rem 0;
    line-height: 1.5;
}

.bubble-reflection {
    font-size: 0.9rem;
    color: #555;
    margin: 0 0 0.75rem 0;
    font-style: italic;
    line-height: 1.5;
}

.bubble-stats {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin: 0.75rem 0;
    padding-top: 0.75rem;
    border-top: 1px solid rgba(25, 118, 210, 0.2);
}

.bubble-stat {
    font-size: 0.85rem;
    color: #1976d2;
    font-weight: 600;
}

.bubble-links {
    display: flex;
    gap: 0.75rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.bubble-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: #1976d2;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    transition: all 0.3s ease;
    flex: 1;
    min-width: fit-content;
    justify-content: center;
}

.bubble-link:hover {
    background: #1565c0;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(25, 118, 210, 0.3);
}

.bubble-link .link-icon {
    font-size: 1rem;
}

.bubble-tail {
    position: absolute;
    top: 50%;
    left: -8px;
    transform: translateY(-50%) rotate(-90deg);
    width: 0;
    height: 0;
    border-left: 10px solid rgba(255, 255, 255, 0.7);
    border-right: 10px solid transparent;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    filter: drop-shadow(-2px 0 4px rgba(0, 0, 0, 0.1));
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

@media (max-width: 768px) {
    .credits-grid,
    .course-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1rem;
    }
    
    .course-card-wrapper:hover {
        transform: scale(1.05) translateY(-5px);
    }
    
    .course-details-bubble {
        min-width: 250px;
        max-width: 90%;
    }
    
    .final-grid {
        flex-direction: column;
        gap: 2rem;
        padding: 1rem 0;
    }
    
    .final-card {
        flex-direction: column;
        min-width: 100%;
        max-width: 100%;
    }
    
    .final-image-left,
    .final-image-right {
        width: 100%;
        min-width: 100%;
        border-radius: 20px 20px 0 0;
        aspect-ratio: 1;
    }
    
    .final-content-left,
    .final-content-right {
        order: 2;
        border-radius: 0 0 20px 20px;
    }
}

/* =========================
   CONTRIBUTOR CARDS
   ========================= */
.contributor-card {
    background: var(--bg-secondary);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: 2px solid transparent;
    position: relative;
    animation: fadeInUp 0.6s ease forwards;
    opacity: 0;
}

.contributor-card:nth-child(1) { animation-delay: 0.1s; }
.contributor-card:nth-child(2) { animation-delay: 0.2s; }
.contributor-card:nth-child(3) { animation-delay: 0.3s; }
.contributor-card:nth-child(4) { animation-delay: 0.4s; }
.contributor-card:nth-child(5) { animation-delay: 0.5s; }
.contributor-card:nth-child(6) { animation-delay: 0.6s; }
.contributor-card:nth-child(7) { animation-delay: 0.7s; }
.contributor-card:nth-child(8) { animation-delay: 0.8s; }
.contributor-card:nth-child(n+9) { animation-delay: 0.9s; }

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.contributor-card:hover {
    transform: translateY(-8px) scale(1.02);
    border-color: var(--color-primary);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2),
                0 0 20px rgba(var(--color-primary-rgb, 255, 255, 255), 0.1);
}

.card-image-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 3 / 4;
    overflow: hidden;
    background: linear-gradient(135deg, var(--bg-secondary), var(--bg-primary));
}

.card-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
}

.contributor-card:hover .card-image {
    transform: scale(1.1);
}

.card-image-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(var(--color-primary-rgb, 255, 255, 255), 0.1), rgba(var(--color-primary-rgb, 255, 255, 255), 0.05));
}

.placeholder-icon {
    font-size: 4rem;
    opacity: 0.3;
}

.card-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
    animation: pulse 2s ease infinite;
    filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

.card-content {
    padding: 1.5rem;
}

.card-name {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 0.5rem 0;
}

.card-role {
    font-size: 0.9rem;
    color: var(--text-secondary);
    margin: 0 0 0.75rem 0;
    line-height: 1.4;
}

.card-id {
    display: inline-block;
    font-size: 0.75rem;
    color: var(--text-secondary);
    background: rgba(var(--color-primary-rgb, 255, 255, 255), 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    margin-bottom: 0.75rem;
}

.card-stats {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    margin: 1rem 0 0.75rem 0;
    padding-top: 1rem;
    border-top: 1px solid rgba(25, 118, 210, 0.1);
}

.stat-badge {
    display: inline-block;
    font-size: 0.85rem;
    padding: 0.5rem 0.75rem;
    background: rgba(25, 118, 210, 0.1);
    border-radius: 8px;
    color: #1976d2;
    font-weight: 600;
    border: 1px solid rgba(25, 118, 210, 0.2);
}

.final-card .card-stats {
    flex-direction: column;
    gap: 0.5rem;
}

.final-card .stat-badge {
    width: 100%;
    text-align: left;
    font-size: 0.9rem;
    padding: 0.6rem 0.9rem;
}

.card-links {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.card-link {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.85rem;
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    padding: 0.4rem 0.8rem;
    border-radius: 6px;
    background: rgba(25, 118, 210, 0.1);
}

.card-link:hover {
    background: rgba(25, 118, 210, 0.2);
    transform: translateY(-2px);
    text-decoration: none;
}

.card-link .link-icon {
    font-size: 0.9rem;
}


/* =========================
   CLOSING MESSAGE
   ========================= */
.credits-closing {
    max-width: 800px;
    margin: 4rem auto 2rem;
    padding: 0 1rem;
}

.closing-card {
    background: linear-gradient(135deg, rgba(var(--color-primary-rgb, 255, 255, 255), 0.1), rgba(var(--color-primary-rgb, 255, 255, 255), 0.05));
    padding: 2rem;
    border-radius: 20px;
    text-align: center;
    border: 2px solid rgba(var(--color-primary-rgb, 255, 255, 255), 0.2);
}

.closing-text {
    font-size: 1.2rem;
    line-height: 1.8;
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.closing-icon {
    font-size: 2rem;
    animation: heartbeat 1.5s ease infinite;
}

@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* =========================
   RESPONSIVE
   ========================= */
@media (max-width: 768px) {
    .credits-hero {
        padding: 2rem 1rem;
    }
    
    .hero-stats {
        gap: 2rem;
    }
    
    .stat-number {
        font-size: 2rem;
    }
    
    .intro-card {
        padding: 1.5rem;
    }
    
    .intro-text {
        font-size: 1rem;
    }
    
    .closing-text {
        font-size: 1rem;
        flex-direction: column;
    }
}
</style>

<script>
// Dynamically position bubbles based on card position
document.addEventListener('DOMContentLoaded', function() {
    const courseGrid = document.querySelector('.course-grid');
    if (!courseGrid) return;
    
    const cards = courseGrid.querySelectorAll('.course-card-wrapper');
    const gridRect = courseGrid.getBoundingClientRect();
    const gridCenterX = gridRect.left + gridRect.width / 2;
    
    cards.forEach(card => {
        const cardRect = card.getBoundingClientRect();
        const cardCenterX = cardRect.left + cardRect.width / 2;
        
        // If card is on the right side of grid center, show bubble on left
        if (cardCenterX > gridCenterX) {
            card.classList.add('bubble-left');
        }
    });
    
    // Recalculate on window resize
    let resizeTimer;
    window.addEventListener('resize', function() {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(function() {
            cards.forEach(card => {
                card.classList.remove('bubble-left');
                const cardRect = card.getBoundingClientRect();
                const cardCenterX = cardRect.left + cardRect.width / 2;
                const gridRect = courseGrid.getBoundingClientRect();
                const gridCenterX = gridRect.left + gridRect.width / 2;
                
                if (cardCenterX > gridCenterX) {
                    card.classList.add('bubble-left');
                }
            });
        }, 250);
    });
});
</script>
{% endblock %}
